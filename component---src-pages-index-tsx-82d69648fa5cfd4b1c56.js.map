{"version":3,"file":"component---src-pages-index-tsx-82d69648fa5cfd4b1c56.js","mappings":"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","sources":["webpack://hyeokjaelee.github.io/./src/assets/styles/pages/index.module.scss","webpack://hyeokjaelee.github.io/./src/pages/index.tsx","webpack://hyeokjaelee.github.io/./src/assets/img/left-arrow.svg","webpack://hyeokjaelee.github.io/./src/assets/img/right-arrow.svg"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport var index = \"index-module--index--O6QnI\";\nexport var post = \"index-module--post--rwpj-\";\nexport var imageWrap = \"index-module--image-wrap--1IY+l\";\nexport var infoWrap = \"index-module--info-wrap--os2bz\";\nexport var posts = \"index-module--posts--m1TIa\";\nexport var postWrap = \"index-module--post-wrap--Cb+-8\";\nexport var tag = \"index-module--tag--CPiTn\";\nexport var total = \"index-module--total--eGR98\";\nexport var active = \"index-module--active--wJCjh\";\nexport var tags = \"index-module--tags--0rSYC\";\nexport var pagination = \"index-module--pagination--4kTLN\";\nexport var page = \"index-module--page--ybDb2\";\nexport var indexDark = \"index-module--index-dark--UzWyS\";\nexport var fadeIn = \"index-module--fade-in--ySEbP\";\nexport var fadeOut = \"index-module--fade-out--xwEzG\";\nexport var bounceInTop = \"index-module--bounce-in-top--Gcjfb\";\nexport var focusIn = \"index-module--focus-in--KvyMr\";\nexport var slideInBottom = \"index-module--slide-in-bottom--enIOy\";\nexport var slideOutBottom = \"index-module--slide-out-bottom--mMiIM\";\nexport var slideInRight = \"index-module--slide-in-right--mDdsl\";\nexport var slideOutRight = \"index-module--slide-out-right--emFPr\";\nexport var vibrate1 = \"index-module--vibrate-1--Hz38v\";","import React, { useEffect, useState, useContext } from \"react\";\nimport * as style from \"styles/pages/index.module.scss\";\nimport { graphql, Link } from \"gatsby\";\nimport LeftArrow from \"img/left-arrow.svg\";\nimport RightArrow from \"img/right-arrow.svg\";\nimport { ThemeContext } from \"contexts/theme\";\ninterface Node {\n  excerpt: string;\n  fields: { slug: string };\n  frontmatter: {\n    title: string;\n    titleImage: string;\n    date: string;\n    description: string;\n    tags: string[];\n  };\n}\ninterface Group {\n  tags: string;\n  totalCount: number;\n}\ninterface Props {\n  location: {\n    search: string;\n  };\n  data: {\n    allMarkdownRemark: {\n      group: Group[];\n      nodes: Node[];\n    };\n  };\n}\n\nconst Index = ({ data, location }: Props) => {\n  const POSTS_PER_PAGE = 12;\n  const { group, nodes } = data.allMarkdownRemark;\n  const { theme } = useContext(ThemeContext);\n  let queryString = location.search;\n  queryString = queryString.slice(queryString.indexOf(\"?\") + 1);\n  let queryData = {\n    page: 1,\n    tag: \"\",\n  };\n  // queryString 분류\n  queryString.split(\"&\").forEach((query) => {\n    const [key, value] = query.split(\"=\");\n    switch (key) {\n      case \"page\":\n        queryData.page = Number(value);\n        break;\n      case \"tag\":\n        queryData.tag = value;\n        break;\n    }\n  });\n  const filteredByTagNodes = !queryData.tag\n    ? nodes\n    : nodes.filter((node) => node.frontmatter.tags.includes(queryData.tag));\n  const totalPagesCount = Math.ceil(filteredByTagNodes.length / POSTS_PER_PAGE);\n  (queryData.page < 1 || totalPagesCount < queryData.page) && (queryData.page = 1);\n\n  const Pagination = () => {\n    /**표시할 페이지 네비게이션 숫자*/\n    const pagesOnNav = [queryData.page];\n    //앞뒤로 2개씩 추가\n    for (let i = 1; i <= 2; i++) {\n      let firstPage = pagesOnNav[0];\n      let lastPage = pagesOnNav[pagesOnNav.length - 1];\n      if (0 < firstPage - 1) pagesOnNav.unshift(pagesOnNav[0] - 1);\n      else if (lastPage + 1 <= totalPagesCount) pagesOnNav.push(lastPage + 1);\n      firstPage = pagesOnNav[0];\n      lastPage = pagesOnNav[pagesOnNav.length - 1];\n      if (lastPage + 1 <= totalPagesCount) pagesOnNav.push(lastPage + 1);\n      else if (0 < firstPage - 1) pagesOnNav.unshift(firstPage - 1);\n    }\n    const paginationItems = pagesOnNav.map((page) => {\n      let pageClass = style.page;\n      if (page === queryData.page) pageClass += ` ${style.active}`;\n      return (\n        <li key={`page${page}`}>\n          <Link\n            className={pageClass}\n            to={!queryData.tag ? `/?page=${page}` : `/?tag=${queryData.tag}&page=${page}`}\n          >\n            {page}\n          </Link>\n        </li>\n      );\n    });\n    const firstPage = pagesOnNav[0];\n    const lastPage = pagesOnNav[pagesOnNav.length - 1];\n    lastPage + 1 <= totalPagesCount &&\n      paginationItems.push(\n        <li>\n          <Link\n            to={\n              !queryData.tag\n                ? `/?page=${lastPage + 1}`\n                : `/?tag=${queryData.tag}&page=${lastPage + 1}`\n            }\n          >\n            <RightArrow />\n          </Link>\n        </li>\n      );\n    firstPage - 1 >= 1 &&\n      paginationItems.unshift(\n        <li>\n          <Link\n            to={\n              !queryData.tag\n                ? `/?page=${firstPage - 1}`\n                : `/?tag=${queryData.tag}&page=${firstPage - 1}`\n            }\n          >\n            <LeftArrow />\n          </Link>\n        </li>\n      );\n    return <ul className={style.pagination}>{paginationItems}</ul>;\n  };\n\n  const aPageNodes = filteredByTagNodes.slice(\n    (queryData.page - 1) * POSTS_PER_PAGE,\n    queryData.page * POSTS_PER_PAGE\n  );\n  return (\n    <section className={theme === \"dark\" ? style.indexDark : style.index}>\n      <ul className={`${style.tags} ${style.total}`}>\n        {group.map((item) => (\n          <li>\n            <Link\n              to={queryData.tag === item.tags ? \"/\" : `/?tag=${item.tags}`}\n              className={`${style.tag} ${style.total} ${\n                queryData.tag === item.tags ? style.active : \"\"\n              }`}\n            >\n              {item.tags}\n            </Link>\n          </li>\n        ))}\n      </ul>\n      <ul className={style.posts}>\n        {aPageNodes.map((node, postListIndex) => {\n          const { title, titleImage, date, description, tags } = node.frontmatter;\n          return (\n            <li key={`postList${postListIndex}`} className={style.postWrap}>\n              <Link to={node.fields.slug} className={style.post}>\n                <section className={style.imageWrap}>\n                  <img src={titleImage} />\n                </section>\n                <section className={style.infoWrap}>\n                  <i>Posted on {date}</i>\n                  <h2>{title}</h2>\n                  <p>{description}</p>\n                  <ul className={style.tags}>\n                    {tags.map((_tag, individualsTagIndex) => (\n                      <li\n                        key={`individualsTag${individualsTagIndex}`}\n                        className={style.tag + (queryData.tag === _tag ? ` ${style.active}` : \"\")}\n                      >\n                        {_tag}\n                      </li>\n                    ))}\n                  </ul>\n                </section>\n              </Link>\n            </li>\n          );\n        })}\n      </ul>\n      <Pagination />\n    </section>\n  );\n};\n\nexport default Index;\n\nexport const data = graphql`\n  query {\n    allMarkdownRemark(sort: { fields: frontmatter___date, order: DESC }) {\n      group(field: frontmatter___tags) {\n        tags: fieldValue\n        totalCount\n      }\n      nodes {\n        excerpt\n        fields {\n          slug\n        }\n        frontmatter {\n          date\n          title\n          titleImage\n          description\n          tags\n        }\n      }\n    }\n  }\n`;\n","var React = require('react');\n\nfunction LeftArrow (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"path\",{\"id\":\"XMLID_6_\",\"d\":\"M165,0C74.019,0,0,74.019,0,165s74.019,165,165,165s165-74.019,165-165S255.981,0,165,0z M205.606,234.394\\n\\tc5.858,5.857,5.858,15.355,0,21.213C202.678,258.535,198.839,260,195,260s-7.678-1.464-10.606-4.394l-80-79.998\\n\\tc-2.813-2.813-4.394-6.628-4.394-10.606c0-3.978,1.58-7.794,4.394-10.607l80-80.002c5.857-5.858,15.355-5.858,21.213,0\\n\\tc5.858,5.857,5.858,15.355,0,21.213l-69.393,69.396L205.606,234.394z\",\"key\":0}),React.createElement(\"g\",{\"key\":1}),React.createElement(\"g\",{\"key\":2}),React.createElement(\"g\",{\"key\":3}),React.createElement(\"g\",{\"key\":4}),React.createElement(\"g\",{\"key\":5}),React.createElement(\"g\",{\"key\":6}),React.createElement(\"g\",{\"key\":7}),React.createElement(\"g\",{\"key\":8}),React.createElement(\"g\",{\"key\":9}),React.createElement(\"g\",{\"key\":10}),React.createElement(\"g\",{\"key\":11}),React.createElement(\"g\",{\"key\":12}),React.createElement(\"g\",{\"key\":13}),React.createElement(\"g\",{\"key\":14}),React.createElement(\"g\",{\"key\":15})]);\n}\n\nLeftArrow.defaultProps = {\"version\":\"1.1\",\"id\":\"Layer_1\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 330 330\",\"style\":{\"enableBackground\":\"new 0 0 330 330\"},\"xmlSpace\":\"preserve\"};\n\nmodule.exports = LeftArrow;\n\nLeftArrow.default = LeftArrow;\n","var React = require('react');\n\nfunction RightArrow (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"path\",{\"id\":\"XMLID_2_\",\"d\":\"M165,0C74.019,0,0,74.019,0,165s74.019,165,165,165s165-74.019,165-165S255.981,0,165,0z M225.606,175.605\\n\\tl-80,80.002C142.678,258.535,138.839,260,135,260s-7.678-1.464-10.606-4.394c-5.858-5.857-5.858-15.355,0-21.213l69.393-69.396\\n\\tl-69.393-69.392c-5.858-5.857-5.858-15.355,0-21.213c5.857-5.858,15.355-5.858,21.213,0l80,79.998\\n\\tc2.814,2.813,4.394,6.628,4.394,10.606C230,168.976,228.42,172.792,225.606,175.605z\",\"key\":0}),React.createElement(\"g\",{\"key\":1}),React.createElement(\"g\",{\"key\":2}),React.createElement(\"g\",{\"key\":3}),React.createElement(\"g\",{\"key\":4}),React.createElement(\"g\",{\"key\":5}),React.createElement(\"g\",{\"key\":6}),React.createElement(\"g\",{\"key\":7}),React.createElement(\"g\",{\"key\":8}),React.createElement(\"g\",{\"key\":9}),React.createElement(\"g\",{\"key\":10}),React.createElement(\"g\",{\"key\":11}),React.createElement(\"g\",{\"key\":12}),React.createElement(\"g\",{\"key\":13}),React.createElement(\"g\",{\"key\":14}),React.createElement(\"g\",{\"key\":15})]);\n}\n\nRightArrow.defaultProps = {\"version\":\"1.1\",\"id\":\"Layer_1\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 330 330\",\"style\":{\"enableBackground\":\"new 0 0 330 330\"},\"xmlSpace\":\"preserve\"};\n\nmodule.exports = RightArrow;\n\nRightArrow.default = RightArrow;\n"],"names":["tag","total","active","data","location","allMarkdownRemark","group","nodes","theme","useContext","ThemeContext","queryString","search","slice","indexOf","queryData","page","split","forEach","query","key","value","Number","filteredByTagNodes","filter","node","frontmatter","tags","includes","totalPagesCount","Math","ceil","length","Pagination","pagesOnNav","i","firstPage","lastPage","unshift","push","paginationItems","map","pageClass","style","className","to","aPageNodes","item","postListIndex","title","titleImage","date","description","fields","slug","src","_tag","individualsTagIndex","React","LeftArrow","props","createElement","defaultProps","module","exports","default","RightArrow"],"sourceRoot":""}