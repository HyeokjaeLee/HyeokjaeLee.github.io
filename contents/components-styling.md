---
title: "컴포넌트 스타일링에 대한 고민"
titleImage: ""
description: ""
date: "2021-02-23"
tags: [Frontend]
---

<aside>
⚠️ **짧은 식견으로 작성된 글입니다.**

---

- 이런 생각을 가지고 있구나 정도로만 생각해주세요.
- 다른 의견 환영입니다.
</aside>

## 발단

- 이전에 개인 토이프로젝트 구현에만 급급한 나머지 가독성이나 확장성을 고려하지 않고 스타일링
- 기능 확장중 여러가지 문제점 발생
    - ex) 이름 중복, 가독성 저하 등
- 스타일링 컨벤션 부재로 인한 문제라 판단
- 여러가지 고민 후 컨벤션 확립 & 리펙토링 진행

---

## WWP FE 코드 확인

- 레포별 스타일링 방법이 통일되어있지 않음
    - ex) styled-components, emotion, inline style, global stylesheet, etc.
- 아직 코드량이 방대하지 않아 리펙토링 용이

---

## 스타일링 방법에 대한 생각

### CSS-in-JS

- **장점**
    - 필요한 컴포넌트 페이지의 스타일 요소만 로딩
    - 파일 관리가 편함 / 컴포넌트간 완전한 분리가 보장 / 모듈성
    - JS 환경을 최대한 활용
    - 자바스크립트와 CSS 사이의 상수와 함수를 공유 (이부분이 가장 포기하기 힘든 부분)
    - 트렌디함 / 요즘 많은 개발자들이 선호하는 방식
        - 대표적으로 WWP FE 코드에서 확인 가능한 styled-components와 emotion을 많이 사용
- **단점**
    - CSS-in-CSS 방식에 비해 성능이 떨어짐 (링크 요약: 앱의 속도 개선을 위해서는 JS 절대량을 줄여라)
        
        [Real-world CSS vs. CSS-in-JS performance comparison](https://pustelto.com/blog/css-vs-css-in-js-perf/)
        
    - 스크립트 파일의 크기가 커지면 가독성을 해침 (특히 포메터를 사용할 경우)
- **의견**
    - 단점보다 장점이 많음, 충분히 고려 대상
    - 팀원간의 컨벤션 확립후 적절하게 사용하는것이 바람직하다 생각

### Inline Style

- **장점**: 적용범위가 적고 우선도도 높아 편리함
- **단점**: 앱 렌더링 시 객체의 주소값은 항상 다르기 때문에 가상 DOM 변화라고 인식 > 불필요한 리렌더링 발생
- **의견**: 최대한 지양하자는 생각

### Global stylesheet

- **장점**: 추가적인 의존성 없이 사용가능
    - 추가적인 의존성 없이 사용가능
    - 재사용성 자체는 가장 좋다고 생각
- **단점**: 디테일한 컨벤션 없이는 규모가 커질수록 협업이 힘들수 있음(클래스명 중복등)
- **의견**: 계속 확장해 나가야할 상황에서 고려해보기에는 부적합하다 생각

### CSS-Modules

- 장점
    - CSS-in-CSS의 장점을 가짐
    - 컴포넌트간 분리가 어느정도 보장됨
    - Stylesheet 파일 분리로 인해 준수한 가독성
- 단점
    - 파일 구조에 대한 고민이 다른 방법에 비해 많이 필요할듯
    - 개인적으로 조금 낯선 개발 방식
        - ex) stylesheet, script 파일 안에서 같은 selector라도 stylesheet는 하이픈표기법, script는 카멜표기법 사용
- 의견: 전체적으로 가장 적합하다는 생각

---

## 의견 정리

- 가독성과 성능 등에 대한 개인적인 의견으로는 CSS-Modules 방식으로 SCSS를 이용해 작성하는것이 좋다는 생각
    - 토이프로젝트에서도 결국 같은 결론 내린후 리펙토링 진행
- SSR을 고려한다면 CSS-in-JS의 성능적인 문제는 해결 가능
    - 하지만 Next.js는 9.3 ver 이후에 CSS-Modules 방식을 권장
        
        [Next.js 9.3](https://nextjs.org/blog/next-9-3#built-in-sass-css-module-support-for-component-level-styles)
        
- Next.js 도입을 고려하는 상황에서 CSS-Modules을 사용하는 방향으로 컨벤션을 확립한다면 추후 발생 가능한 혼란을 최소화 할수 있다고 생각
- 현재 사용하고 있는 Chakra UI와 같이 사용했을때 나타날 수 있는 문제점 생각해봐야함
- CSS-Modules 방식을 선택 후 개발 패턴을 적용했을때 효율적인 파일구조가 어떤것일지 고민해봐야함