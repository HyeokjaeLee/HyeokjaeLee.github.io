{"version":3,"file":"component---src-pages-index-tsx-62e9b7a7c20846c920c0.js","mappings":"8LAOWA,EAAM,2BACNC,EAAQ,6BACRC,EAAS,8BACT,EAAO,4B,0DCsKlB,EA/Ic,SAAC,GAA8B,IAA5BC,EAA4B,EAA5BA,KAAMC,EAAsB,EAAtBA,SAErB,EAAyBD,EAAKE,kBAAtBC,EAAR,EAAQA,MAAOC,EAAf,EAAeA,MACPC,GAAUC,EAAAA,EAAAA,YAAWC,EAAAA,GAArBF,MACJG,EAAcP,EAASQ,OAC3BD,EAAcA,EAAYE,MAAMF,EAAYG,QAAQ,KAAO,GAC3D,IAAIC,EAAY,CACdC,KAAM,EACNhB,IAAK,IAGPW,EAAYM,MAAM,KAAKC,SAAQ,SAACC,GAC9B,MAAqBA,EAAMF,MAAM,KAA1BG,EAAP,KAAYC,EAAZ,KACA,OAAQD,GACN,IAAK,OACHL,EAAUC,KAAOM,OAAOD,GACxB,MACF,IAAK,MACHN,EAAUf,IAAMqB,MAItB,IAAME,EAAsBR,EAAUf,IAElCO,EAAMiB,QAAO,SAACC,GAAD,OAAUA,EAAKC,YAAYC,KAAKC,SAASb,EAAUf,QADhEO,EAEEsB,EAAkBC,KAAKC,KAAKR,EAAmBS,OAxB9B,KAyBtBjB,EAAUC,KAAO,GAAKa,EAAkBd,EAAUC,QAAUD,EAAUC,KAAO,GAE9E,IAAMiB,EAAa,WAIjB,IAFA,IAAMC,EAAa,CAACnB,EAAUC,MAErBmB,EAAI,EAAGA,GAAK,EAAGA,IAAK,CAC3B,IAAIC,EAAYF,EAAW,GACvBG,EAAWH,EAAWA,EAAWF,OAAS,GAC1C,EAAII,EAAY,EAAGF,EAAWI,QAAQJ,EAAW,GAAK,GACjDG,EAAW,GAAKR,GAAiBK,EAAWK,KAAKF,EAAW,GACrED,EAAYF,EAAW,IACvBG,EAAWH,EAAWA,EAAWF,OAAS,IAC3B,GAAKH,EAAiBK,EAAWK,KAAKF,EAAW,GACvD,EAAID,EAAY,GAAGF,EAAWI,QAAQF,EAAY,GAE7D,IAAMI,EAAkBN,EAAWO,KAAI,SAACzB,GACtC,IAAI0B,EDhEQ,4BCkEZ,OADI1B,IAASD,EAAUC,OAAM0B,GAAa,IAAIC,GAE5C,sBAAIvB,IAAG,OAASJ,GACd,gBAAC,KAAD,CACE4B,UAAWF,EACXG,GAAK9B,EAAUf,IAAX,SAA6Ce,EAAUf,IAAvD,SAAmEgB,EAAnE,UAA2BA,GAE9BA,OAKHoB,EAAYF,EAAW,GACvBG,EAAWH,EAAWA,EAAWF,OAAS,GA6BhD,OA5BAK,EAAW,GAAKR,GACdW,EAAgBD,KACd,0BACE,gBAAC,KAAD,CACEM,GACG9B,EAAUf,IAAX,SAEae,EAAUf,IAFvB,UAEmCqC,EAAW,GAF9C,WACcA,EAAW,IAI3B,gBAAC,IAAD,SAIRD,EAAY,GAAK,GACfI,EAAgBF,QACd,0BACE,gBAAC,KAAD,CACEO,GACG9B,EAAUf,IAAX,SAEae,EAAUf,IAFvB,UAEmCoC,EAAY,GAF/C,WACcA,EAAY,IAI5B,gBAAC,IAAD,SAID,sBAAIQ,UD5GS,mCC4GqBJ,IAGrCM,EAAavB,EAAmBV,MAxFf,IAyFpBE,EAAUC,KAAO,GAzFG,GA0FrBD,EAAUC,MAEZ,OACE,2BAAS4B,UAAqB,SAAVpC,EDlHD,kCAZJ,8BC+Hb,sBAAIoC,UAAcD,EAAL,IAAmBA,GAC7BrC,EAAMmC,KAAI,SAACM,GAAD,OACT,0BACE,gBAAC,KAAD,CACEF,GAAI9B,EAAUf,MAAQ+C,EAAKpB,KAAO,IAA9B,SAA6CoB,EAAKpB,KACtDiB,UAAcD,EAAL,IAAkBA,EAAlB,KACP5B,EAAUf,MAAQ+C,EAAKpB,KAAOgB,EAAe,KAG9CI,EAAKpB,WAKd,sBAAIiB,UDzIS,8BC0IVE,EAAWL,KAAI,SAAChB,EAAMuB,GACrB,MAAuDvB,EAAKC,YAApDuB,EAAR,EAAQA,MAAOC,EAAf,EAAeA,WAAYC,EAA3B,EAA2BA,KAAMC,EAAjC,EAAiCA,YAAazB,EAA9C,EAA8CA,KAC9C,OACE,sBAAIP,IAAG,WAAa4B,EAAiBJ,UD5I3B,kCC6IR,gBAAC,KAAD,CAAMC,GAAIpB,EAAK4B,OAAOC,KAAMV,UDjJxB,6BCkJF,2BAASA,UDjJF,mCCkJL,uBAAKW,IAAKL,KAEZ,2BAASN,UDnJH,kCCoJJ,sCAAcO,GACd,0BAAKF,GACL,yBAAIG,GACJ,sBAAIR,UAAWD,GACZhB,EAAKc,KAAI,SAACe,EAAMC,GAAP,OACR,sBACErC,IAAG,iBAAmBqC,EACtBb,UAAWD,GAAa5B,EAAUf,MAAQwD,EAAlB,IAA6Bb,EAAiB,KAErEa,cAUnB,gBAACvB,EAAD,S,qBC3KN,IAAIyB,EAAQ,EAAQ,MAEpB,SAASC,EAAWC,GAChB,OAAOF,EAAMG,cAAc,MAAMD,EAAM,CAACF,EAAMG,cAAc,OAAO,CAAC,GAAK,WAAW,EAAI,0ZAA0Z,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,KAAKH,EAAMG,cAAc,IAAI,CAAC,IAAM,KAAKH,EAAMG,cAAc,IAAI,CAAC,IAAM,KAAKH,EAAMG,cAAc,IAAI,CAAC,IAAM,KAAKH,EAAMG,cAAc,IAAI,CAAC,IAAM,KAAKH,EAAMG,cAAc,IAAI,CAAC,IAAM,OAG9gCF,EAAUG,aAAe,CAAC,QAAU,MAAM,GAAK,UAAU,EAAI,MAAM,EAAI,MAAM,QAAU,cAAc,MAAQ,CAAC,iBAAmB,mBAAmB,SAAW,YAE/JC,EAAOC,QAAUL,EAEjBA,EAAUM,QAAUN,G,qBCVpB,IAAID,EAAQ,EAAQ,MAEpB,SAASQ,EAAYN,GACjB,OAAOF,EAAMG,cAAc,MAAMD,EAAM,CAACF,EAAMG,cAAc,OAAO,CAAC,GAAK,WAAW,EAAI,oaAAoa,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,IAAIH,EAAMG,cAAc,IAAI,CAAC,IAAM,KAAKH,EAAMG,cAAc,IAAI,CAAC,IAAM,KAAKH,EAAMG,cAAc,IAAI,CAAC,IAAM,KAAKH,EAAMG,cAAc,IAAI,CAAC,IAAM,KAAKH,EAAMG,cAAc,IAAI,CAAC,IAAM,KAAKH,EAAMG,cAAc,IAAI,CAAC,IAAM,OAGxhCK,EAAWJ,aAAe,CAAC,QAAU,MAAM,GAAK,UAAU,EAAI,MAAM,EAAI,MAAM,QAAU,cAAc,MAAQ,CAAC,iBAAmB,mBAAmB,SAAW,YAEhKC,EAAOC,QAAUE,EAEjBA,EAAWD,QAAUC","sources":["webpack://hyeokjaelee.github.io/./src/assets/styles/pages/index.module.scss","webpack://hyeokjaelee.github.io/./src/pages/index.tsx","webpack://hyeokjaelee.github.io/./src/assets/img/left-arrow.svg","webpack://hyeokjaelee.github.io/./src/assets/img/right-arrow.svg"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport var index = \"index-module--index--O6QnI\";\nexport var post = \"index-module--post--rwpj-\";\nexport var imageWrap = \"index-module--image-wrap--1IY+l\";\nexport var infoWrap = \"index-module--info-wrap--os2bz\";\nexport var posts = \"index-module--posts--m1TIa\";\nexport var postWrap = \"index-module--post-wrap--Cb+-8\";\nexport var tag = \"index-module--tag--CPiTn\";\nexport var total = \"index-module--total--eGR98\";\nexport var active = \"index-module--active--wJCjh\";\nexport var tags = \"index-module--tags--0rSYC\";\nexport var pagination = \"index-module--pagination--4kTLN\";\nexport var page = \"index-module--page--ybDb2\";\nexport var indexDark = \"index-module--index-dark--UzWyS\";\nexport var fadeIn = \"index-module--fade-in--ySEbP\";\nexport var fadeOut = \"index-module--fade-out--xwEzG\";\nexport var bounceInTop = \"index-module--bounce-in-top--Gcjfb\";\nexport var focusIn = \"index-module--focus-in--KvyMr\";\nexport var slideInBottom = \"index-module--slide-in-bottom--enIOy\";\nexport var slideOutBottom = \"index-module--slide-out-bottom--mMiIM\";\nexport var slideInRight = \"index-module--slide-in-right--mDdsl\";\nexport var slideOutRight = \"index-module--slide-out-right--emFPr\";\nexport var jelloHorizontal = \"index-module--jello-horizontal--M0WJs\";","import React, { useEffect, useState, useContext } from \"react\";\r\nimport * as style from \"styles/pages/index.module.scss\";\r\nimport { graphql, Link } from \"gatsby\";\r\nimport LeftArrow from \"img/left-arrow.svg\";\r\nimport RightArrow from \"img/right-arrow.svg\";\r\nimport { ThemeContext } from \"contexts/theme\";\r\ninterface Node {\r\n  excerpt: string;\r\n  fields: { slug: string };\r\n  frontmatter: {\r\n    title: string;\r\n    titleImage: string;\r\n    date: string;\r\n    description: string;\r\n    tags: string[];\r\n  };\r\n}\r\ninterface Group {\r\n  tags: string;\r\n  totalCount: number;\r\n}\r\ninterface Props {\r\n  location: {\r\n    search: string;\r\n  };\r\n  data: {\r\n    allMarkdownRemark: {\r\n      group: Group[];\r\n      nodes: Node[];\r\n    };\r\n  };\r\n}\r\n\r\nconst Index = ({ data, location }: Props) => {\r\n  const POSTS_PER_PAGE = 12;\r\n  const { group, nodes } = data.allMarkdownRemark;\r\n  const { theme } = useContext(ThemeContext);\r\n  let queryString = location.search;\r\n  queryString = queryString.slice(queryString.indexOf(\"?\") + 1);\r\n  let queryData = {\r\n    page: 1,\r\n    tag: \"\",\r\n  };\r\n  // queryString 분류\r\n  queryString.split(\"&\").forEach((query) => {\r\n    const [key, value] = query.split(\"=\");\r\n    switch (key) {\r\n      case \"page\":\r\n        queryData.page = Number(value);\r\n        break;\r\n      case \"tag\":\r\n        queryData.tag = value;\r\n        break;\r\n    }\r\n  });\r\n  const filteredByTagNodes = !queryData.tag\r\n    ? nodes\r\n    : nodes.filter((node) => node.frontmatter.tags.includes(queryData.tag));\r\n  const totalPagesCount = Math.ceil(filteredByTagNodes.length / POSTS_PER_PAGE);\r\n  (queryData.page < 1 || totalPagesCount < queryData.page) && (queryData.page = 1);\r\n\r\n  const Pagination = () => {\r\n    /**표시할 페이지 네비게이션 숫자*/\r\n    const pagesOnNav = [queryData.page];\r\n    //앞뒤로 2개씩 추가\r\n    for (let i = 1; i <= 2; i++) {\r\n      let firstPage = pagesOnNav[0];\r\n      let lastPage = pagesOnNav[pagesOnNav.length - 1];\r\n      if (0 < firstPage - 1) pagesOnNav.unshift(pagesOnNav[0] - 1);\r\n      else if (lastPage + 1 <= totalPagesCount) pagesOnNav.push(lastPage + 1);\r\n      firstPage = pagesOnNav[0];\r\n      lastPage = pagesOnNav[pagesOnNav.length - 1];\r\n      if (lastPage + 1 <= totalPagesCount) pagesOnNav.push(lastPage + 1);\r\n      else if (0 < firstPage - 1) pagesOnNav.unshift(firstPage - 1);\r\n    }\r\n    const paginationItems = pagesOnNav.map((page) => {\r\n      let pageClass = style.page;\r\n      if (page === queryData.page) pageClass += ` ${style.active}`;\r\n      return (\r\n        <li key={`page${page}`}>\r\n          <Link\r\n            className={pageClass}\r\n            to={!queryData.tag ? `/?page=${page}` : `/?tag=${queryData.tag}&page=${page}`}\r\n          >\r\n            {page}\r\n          </Link>\r\n        </li>\r\n      );\r\n    });\r\n    const firstPage = pagesOnNav[0];\r\n    const lastPage = pagesOnNav[pagesOnNav.length - 1];\r\n    lastPage + 1 <= totalPagesCount &&\r\n      paginationItems.push(\r\n        <li>\r\n          <Link\r\n            to={\r\n              !queryData.tag\r\n                ? `/?page=${lastPage + 1}`\r\n                : `/?tag=${queryData.tag}&page=${lastPage + 1}`\r\n            }\r\n          >\r\n            <RightArrow />\r\n          </Link>\r\n        </li>\r\n      );\r\n    firstPage - 1 >= 1 &&\r\n      paginationItems.unshift(\r\n        <li>\r\n          <Link\r\n            to={\r\n              !queryData.tag\r\n                ? `/?page=${firstPage - 1}`\r\n                : `/?tag=${queryData.tag}&page=${firstPage - 1}`\r\n            }\r\n          >\r\n            <LeftArrow />\r\n          </Link>\r\n        </li>\r\n      );\r\n    return <ul className={style.pagination}>{paginationItems}</ul>;\r\n  };\r\n\r\n  const aPageNodes = filteredByTagNodes.slice(\r\n    (queryData.page - 1) * POSTS_PER_PAGE,\r\n    queryData.page * POSTS_PER_PAGE\r\n  );\r\n  return (\r\n    <section className={theme === \"dark\" ? style.indexDark : style.index}>\r\n      <ul className={`${style.tags} ${style.total}`}>\r\n        {group.map((item) => (\r\n          <li>\r\n            <Link\r\n              to={queryData.tag === item.tags ? \"/\" : `/?tag=${item.tags}`}\r\n              className={`${style.tag} ${style.total} ${\r\n                queryData.tag === item.tags ? style.active : \"\"\r\n              }`}\r\n            >\r\n              {item.tags}\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      <ul className={style.posts}>\r\n        {aPageNodes.map((node, postListIndex) => {\r\n          const { title, titleImage, date, description, tags } = node.frontmatter;\r\n          return (\r\n            <li key={`postList${postListIndex}`} className={style.postWrap}>\r\n              <Link to={node.fields.slug} className={style.post}>\r\n                <section className={style.imageWrap}>\r\n                  <img src={titleImage} />\r\n                </section>\r\n                <section className={style.infoWrap}>\r\n                  <i>Posted on {date}</i>\r\n                  <h2>{title}</h2>\r\n                  <p>{description}</p>\r\n                  <ul className={style.tags}>\r\n                    {tags.map((_tag, individualsTagIndex) => (\r\n                      <li\r\n                        key={`individualsTag${individualsTagIndex}`}\r\n                        className={style.tag + (queryData.tag === _tag ? ` ${style.active}` : \"\")}\r\n                      >\r\n                        {_tag}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </section>\r\n              </Link>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n      <Pagination />\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Index;\r\n\r\nexport const data = graphql`\r\n  query {\r\n    allMarkdownRemark(sort: { fields: frontmatter___date, order: DESC }) {\r\n      group(field: frontmatter___tags) {\r\n        tags: fieldValue\r\n        totalCount\r\n      }\r\n      nodes {\r\n        excerpt\r\n        fields {\r\n          slug\r\n        }\r\n        frontmatter {\r\n          date\r\n          title\r\n          titleImage\r\n          description\r\n          tags\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","var React = require('react');\n\nfunction LeftArrow (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"path\",{\"id\":\"XMLID_6_\",\"d\":\"M165,0C74.019,0,0,74.019,0,165s74.019,165,165,165s165-74.019,165-165S255.981,0,165,0z M205.606,234.394\\r\\n\\tc5.858,5.857,5.858,15.355,0,21.213C202.678,258.535,198.839,260,195,260s-7.678-1.464-10.606-4.394l-80-79.998\\r\\n\\tc-2.813-2.813-4.394-6.628-4.394-10.606c0-3.978,1.58-7.794,4.394-10.607l80-80.002c5.857-5.858,15.355-5.858,21.213,0\\r\\n\\tc5.858,5.857,5.858,15.355,0,21.213l-69.393,69.396L205.606,234.394z\",\"key\":0}),React.createElement(\"g\",{\"key\":1}),React.createElement(\"g\",{\"key\":2}),React.createElement(\"g\",{\"key\":3}),React.createElement(\"g\",{\"key\":4}),React.createElement(\"g\",{\"key\":5}),React.createElement(\"g\",{\"key\":6}),React.createElement(\"g\",{\"key\":7}),React.createElement(\"g\",{\"key\":8}),React.createElement(\"g\",{\"key\":9}),React.createElement(\"g\",{\"key\":10}),React.createElement(\"g\",{\"key\":11}),React.createElement(\"g\",{\"key\":12}),React.createElement(\"g\",{\"key\":13}),React.createElement(\"g\",{\"key\":14}),React.createElement(\"g\",{\"key\":15})]);\n}\n\nLeftArrow.defaultProps = {\"version\":\"1.1\",\"id\":\"Layer_1\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 330 330\",\"style\":{\"enableBackground\":\"new 0 0 330 330\"},\"xmlSpace\":\"preserve\"};\n\nmodule.exports = LeftArrow;\n\nLeftArrow.default = LeftArrow;\n","var React = require('react');\n\nfunction RightArrow (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"path\",{\"id\":\"XMLID_2_\",\"d\":\"M165,0C74.019,0,0,74.019,0,165s74.019,165,165,165s165-74.019,165-165S255.981,0,165,0z M225.606,175.605\\r\\n\\tl-80,80.002C142.678,258.535,138.839,260,135,260s-7.678-1.464-10.606-4.394c-5.858-5.857-5.858-15.355,0-21.213l69.393-69.396\\r\\n\\tl-69.393-69.392c-5.858-5.857-5.858-15.355,0-21.213c5.857-5.858,15.355-5.858,21.213,0l80,79.998\\r\\n\\tc2.814,2.813,4.394,6.628,4.394,10.606C230,168.976,228.42,172.792,225.606,175.605z\",\"key\":0}),React.createElement(\"g\",{\"key\":1}),React.createElement(\"g\",{\"key\":2}),React.createElement(\"g\",{\"key\":3}),React.createElement(\"g\",{\"key\":4}),React.createElement(\"g\",{\"key\":5}),React.createElement(\"g\",{\"key\":6}),React.createElement(\"g\",{\"key\":7}),React.createElement(\"g\",{\"key\":8}),React.createElement(\"g\",{\"key\":9}),React.createElement(\"g\",{\"key\":10}),React.createElement(\"g\",{\"key\":11}),React.createElement(\"g\",{\"key\":12}),React.createElement(\"g\",{\"key\":13}),React.createElement(\"g\",{\"key\":14}),React.createElement(\"g\",{\"key\":15})]);\n}\n\nRightArrow.defaultProps = {\"version\":\"1.1\",\"id\":\"Layer_1\",\"x\":\"0px\",\"y\":\"0px\",\"viewBox\":\"0 0 330 330\",\"style\":{\"enableBackground\":\"new 0 0 330 330\"},\"xmlSpace\":\"preserve\"};\n\nmodule.exports = RightArrow;\n\nRightArrow.default = RightArrow;\n"],"names":["tag","total","active","data","location","allMarkdownRemark","group","nodes","theme","useContext","ThemeContext","queryString","search","slice","indexOf","queryData","page","split","forEach","query","key","value","Number","filteredByTagNodes","filter","node","frontmatter","tags","includes","totalPagesCount","Math","ceil","length","Pagination","pagesOnNav","i","firstPage","lastPage","unshift","push","paginationItems","map","pageClass","style","className","to","aPageNodes","item","postListIndex","title","titleImage","date","description","fields","slug","src","_tag","individualsTagIndex","React","LeftArrow","props","createElement","defaultProps","module","exports","default","RightArrow"],"sourceRoot":""}