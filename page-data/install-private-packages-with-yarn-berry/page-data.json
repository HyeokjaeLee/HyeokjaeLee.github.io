{"componentChunkName":"component---src-layouts-post-layout-tsx","path":"/install-private-packages-with-yarn-berry/","result":{"data":{"markdownRemark":{"id":"18717822-ef05-51b6-b5e4-cbfa4f9c07b3","html":"<h2 id=\"증상\" style=\"position:relative;\" class=\"font-bold mt-10 mb-4 text-3xl\"><a href=\"#%EC%A6%9D%EC%83%81\" aria-label=\"증상 permalink\" class=\"anchor before\" class=\"text-blue-500 hover:underline\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>증상</h2>\n<p class=\"my-4 whitespace-pre-wrap\">기존에 사용하던 배포환경이 패키지 인스톨에 너무 많은 시간을 사용하는 것 같아 Yarn berry를 도입하게 되었다.</p>\n<p class=\"my-4 whitespace-pre-wrap\">공개된 패키지를 설치하는것에는 큰 문제가 없었지만 Github personal access token을 사용하는 비공개 패키지를 설치할 때 다음과 같은 문제가 발생했다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">➤ YN0027: @USER_NAME/PACKAGE_NAME can't be resolved to a satisfying range\n➤ YN0035: The remote server failed to provide the requested resource\n➤ YN0035:   Response Code: 404 (Not Found)\n➤ YN0035:   Request Method: GET\n➤ YN0035:   Request URL: https://registry.yarnpkg.com/@USER_NAME/PACKAGE_NAME%2fPACKAGE_NAME\n\n➤ Errors happened when preparing the environment required to run this command.</code></pre></div>\n<h2 id=\"해결\" style=\"position:relative;\" class=\"font-bold mt-10 mb-4 text-3xl\"><a href=\"#%ED%95%B4%EA%B2%B0\" aria-label=\"해결 permalink\" class=\"anchor before\" class=\"text-blue-500 hover:underline\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해결</h2>\n<p class=\"my-4 whitespace-pre-wrap\">yarn 1.x 버전을 사용하거나 npm을 사용해 패키지를 관리할때는 .npmrc 파일로 Package manager 설정들을 관리했었는데 yarn berry는. yarnrc 파일을 통해 설정을 관리한다.</p>\n<p class=\"my-4 whitespace-pre-wrap\">현재 Github packages를 통해 패키지를 관리하고 있는데 공개 패키지라면 상관없지만 비공개 패키지는 yarn package에 등록되어 있지 않은데 위 오류를 보면 <code class=\"language-text\">https://registry.yarnpkg.com</code>에 요청을 보내고 있다.</p>\n<p class=\"my-4 whitespace-pre-wrap\">.yarnrc 파일에서 해당 패키지에 대한 Github packages 요청 서버를 추가해 주고 비공개 패키지이므로 인증을 위한 Github personal access token을 추가해 주면 해결된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npmScopes:\n  PACKAGE_NAME:\n    npmRegistryServer: \"https://npm.pkg.github.com\"\n    npmAlwaysAuth: true\n    npmAuthToken: \"${GITHUB_PERSONAL_ACCESS_TOKEN}\"</code></pre></div>","headings":[{"depth":2,"value":"증상","id":"증상"},{"depth":2,"value":"해결","id":"해결"}],"frontmatter":{"title":"Install private packages with yarn berry","date":"23년 01월 20일","description":"Spawn node-gyp ENOENT 에러 해결","tags":["issues"]}},"previous":{"fields":{"slug":"/digital-nomad-in-chiang-mai/"},"frontmatter":{"title":"치앙마이 디지털 노마드 생활기","titleImage":"https://github.com/HyeokjaeLee/hyeokjaelee.github.io/assets/71566740/4624a012-2823-464f-ac27-16d1c43bbde6"}},"next":null},"pageContext":{"id":"18717822-ef05-51b6-b5e4-cbfa4f9c07b3","previousPostId":"f854dbb8-4991-5ce1-b270-4ced80210288","nextPostId":null}},"staticQueryHashes":["2964855266","3766628212","4278130389","825490659"],"slicesMap":{}}