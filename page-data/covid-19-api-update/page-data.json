{"componentChunkName":"component---src-layouts-post-layout-tsx","path":"/covid-19-api-update/","result":{"data":{"markdownRemark":{"id":"a937fa1a-96e4-5242-a641-8d28b1305f2f","html":"<p class=\"my-4 whitespace-pre-wrap\">이전에 진행했던 프로젝트들이 요즘 한 번에 삐걱거리기 시작했다.</p>\n<p class=\"my-4 whitespace-pre-wrap\">얼마 전에는 Webtoon API를 전체적으로 수정해야 했는데 이번에는 Covid-19 API가 문제다.</p>\n<p class=\"my-4 whitespace-pre-wrap\">정부에서 단계적 일상 회복을 시행함에 따라 공공데이터 포털의 Covid-19 API의 일부 항목이 제외된 것이다.</p>\n<p class=\"my-4 whitespace-pre-wrap\">오늘은 이것에 대해 글을 써보려 한다.</p>\n<h2 id=\"covid-19-api\" style=\"position:relative;\" class=\"font-bold mt-10 mb-4 text-3xl\"><a href=\"#covid-19-api\" aria-label=\"covid 19 api permalink\" class=\"anchor before\" class=\"text-blue-500 hover:underline\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>COVID-19 API</h2>\n<blockquote class=\"border-l-4 border-gray-500 pl-4 italic blockquote-container\">\n<p class=\"my-4 whitespace-pre-wrap\"><img src=\"https://github.com/HyeokjaeLee/hyeokjaelee.github.io/assets/71566740/b57ba86c-cd98-4e5d-a4a0-bfd89107dd96\" alt=\"image\" class=\"max-w-full rounded-sm my-12 mx-auto\">\n외부 API를 사용할때 가장 받기 싫은 메일인듯..</p>\n</blockquote>\n<p class=\"my-4 whitespace-pre-wrap\">이전에 Toyproject용으로 COVID-19의 여러 외부 정보들을 종합해 새로운 데이터를 추가하고 이상치를 제거해 GraphQL로 데이터를 제공하는 서버를 호스팅 해두었다.</p>\n<p class=\"my-4 whitespace-pre-wrap\">Toyproject는 데이터를 이용해 정보를 제공하는 Dashboard였다.</p>\n<p class=\"my-4 whitespace-pre-wrap\">이번에 API를 수정하면 당연히 Dashboard도 변경사항이 생길 것이고 나는 이것을 최소화하고 싶었다.</p>\n<h3 id=\"변경점과-대응\" style=\"position:relative;\" class=\"font-bold mt-10 mb-4 text-2xl\"><a href=\"#%EB%B3%80%EA%B2%BD%EC%A0%90%EA%B3%BC-%EB%8C%80%EC%9D%91\" aria-label=\"변경점과 대응 permalink\" class=\"anchor before\" class=\"text-blue-500 hover:underline\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>변경점과 대응</h3>\n<h4 id=\"보건복지부-코로나19-시도별-생-현황의-격리-중-환자-수-항목-제외\" style=\"position:relative;\" class=\"font-bold mt-10 mb-4 text-xl\"><a href=\"#%EB%B3%B4%EA%B1%B4%EB%B3%B5%EC%A7%80%EB%B6%80-%EC%BD%94%EB%A1%9C%EB%82%9819-%EC%8B%9C%EB%8F%84%EB%B3%84-%EC%83%9D-%ED%98%84%ED%99%A9%EC%9D%98-%EA%B2%A9%EB%A6%AC-%EC%A4%91-%ED%99%98%EC%9E%90-%EC%88%98-%ED%95%AD%EB%AA%A9-%EC%A0%9C%EC%99%B8\" aria-label=\"보건복지부 코로나19 시도별 생 현황의 격리 중 환자 수 항목 제외 permalink\" class=\"anchor before\" class=\"text-blue-500 hover:underline\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>보건복지부 코로나19 시·도별 생 현황의 격리 중 환자 수 항목 제외</h4>\n<p class=\"my-4 whitespace-pre-wrap\">다행히 이 항목으로 계산하는 다른 값들이 없어 처음에는 해당 항목은 그냥 제거하려고 했다.</p>\n<p class=\"my-4 whitespace-pre-wrap\">하지만 다른 항목들의 값들을 보면서 이 값은 다른 항목의 값들로 계산할 수 있을 것 같았다.</p>\n<p class=\"my-4 whitespace-pre-wrap\">전체 확진자 수에서 사망자 수와 격리 해제 수를 제외하면 격리 중 환자수와 같을 거라는 예상을 했고 여러 날짜의 값들을 계산해서 비교해보</p>\n<h4 id=\"단계적-일상-회복\" style=\"position:relative;\" class=\"font-bold mt-10 mb-4 text-xl\"><a href=\"#%EB%8B%A8%EA%B3%84%EC%A0%81-%EC%9D%BC%EC%83%81-%ED%9A%8C%EB%B3%B5\" aria-label=\"단계적 일상 회복 permalink\" class=\"anchor before\" class=\"text-blue-500 hover:underline\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>단계적 일상 회복</h4>\n<p class=\"my-4 whitespace-pre-wrap\">정부에서 단계적 일상 회복을 시행하면서 당연히 거리두기 단계가 무의미 해졌고 실제로 정부에서 운영하던 사회적 거리두기 단계를 제공하는 사이트도 사라졌다.</p>\n<p class=\"my-4 whitespace-pre-wrap\">문제는 내가 만든 API에서 사용하는 거리두기 단계는 이 사이트를 매일 크롤링해온 값으로 제공되는데 사이트가 없어졌고 거리두기 단계 자체도 무의미 해졌으니 이 항목은 제외할 수밖에 없었다.</p>\n<h4 id=\"기존-데이터-저장\" style=\"position:relative;\" class=\"font-bold mt-10 mb-4 text-xl\"><a href=\"#%EA%B8%B0%EC%A1%B4-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EC%A0%80%EC%9E%A5\" aria-label=\"기존 데이터 저장 permalink\" class=\"anchor before\" class=\"text-blue-500 hover:underline\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기존 데이터 저장</h4>\n<p class=\"my-4 whitespace-pre-wrap\">혹시 몰라 이전 데이터들은 모두 JSON 형식으로 저장해두었다.</p>\n<p class=\"my-4 whitespace-pre-wrap\">이전 데이터를 사용하는 프로젝트가 있다면 Github에 저장된 JSON값을 받아와 보이는 뷰 정도만 유지해줄 생각이었다.</p>\n<h4 id=\"dashboard-수정\" style=\"position:relative;\" class=\"font-bold mt-10 mb-4 text-xl\"><a href=\"#dashboard-%EC%88%98%EC%A0%95\" aria-label=\"dashboard 수정 permalink\" class=\"anchor before\" class=\"text-blue-500 hover:underline\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Dashboard 수정</h4>\n<p class=\"my-4 whitespace-pre-wrap\">앞서 언급했던 것처럼 API를 수정한 뒤 실제로 제외된 항목은 사회적 거리두기 단계밖에 없으니 관련된 그래프들을 모두 제거해주었다.</p>\n<p class=\"my-4 whitespace-pre-wrap\">정부에서 정한 거리두기 단계 기준과 실제 감염 상황으로 거리두기 단계 변화를 예상하는 그래프는 지우기 아까웠지만 제공되는 데이터가 모두 사라진 마당에 남겨둘 수 없었다.</p>\n<h2 id=\"project-github-repo\" style=\"position:relative;\" class=\"font-bold mt-10 mb-4 text-3xl\"><a href=\"#project-github-repo\" aria-label=\"project github repo permalink\" class=\"anchor before\" class=\"text-blue-500 hover:underline\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Project Github Repo</h2>\n<ul class=\"list-disc ml-5\">\n<li class=\"list-item list-container\"><a href=\"https://github.com/HyeokjaeLee/covid19-dashboard\" class=\"text-blue-500 hover:underline\">COVID-19-Dashboard</a></li>\n<li class=\"list-item list-container\"><a href=\"https://github.com/HyeokjaeLee/korea-covid19-api\" class=\"text-blue-500 hover:underline\">Korea-COVID19-API</a></li>\n</ul>","headings":[{"depth":2,"value":"COVID-19 API","id":"covid-19-api"},{"depth":3,"value":"변경점과 대응","id":"변경점과-대응"},{"depth":4,"value":"보건복지부 코로나19 시·도별 생 현황의 격리 중 환자 수 항목 제외","id":"보건복지부-코로나19-시도별-생-현황의-격리-중-환자-수-항목-제외"},{"depth":4,"value":"단계적 일상 회복","id":"단계적-일상-회복"},{"depth":4,"value":"기존 데이터 저장","id":"기존-데이터-저장"},{"depth":4,"value":"Dashboard 수정","id":"dashboard-수정"},{"depth":2,"value":"Project Github Repo","id":"project-github-repo"}],"frontmatter":{"title":"Covid-19 API 업데이트","date":"21년 11월 30일","description":"단계적 일상회복에 따른 Covid-19 API 업데이트","tags":["project","backend"]}},"previous":{"fields":{"slug":"/korea-webtoon-api-update/"},"frontmatter":{"title":"Webtoon API 개발","titleImage":"https://github.com/HyeokjaeLee/hyeokjaelee.github.io/assets/71566740/99b6a086-1283-4088-81cc-4cb857c3ccdb"}},"next":{"fields":{"slug":"/blog-remake-review2/"},"frontmatter":{"title":"Gatsby 블로그를 개발하면서","titleImage":"https://github.com/HyeokjaeLee/hyeokjaelee.github.io/assets/71566740/d3252f4e-2126-4875-aa37-f38cf2f16633"}}},"pageContext":{"id":"a937fa1a-96e4-5242-a641-8d28b1305f2f","previousPostId":"6b3a1858-27f6-5961-8c64-358503d15a66","nextPostId":"bccae1d5-e504-5132-8b71-2e7d113764b7"}},"staticQueryHashes":["2964855266","3766628212","4278130389","825490659"],"slicesMap":{}}