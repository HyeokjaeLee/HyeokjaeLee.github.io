{"componentChunkName":"component---src-layout-post-tsx","path":"/covid-19-api-update/","result":{"data":{"markdownRemark":{"html":"<p>이전에 진행했던 프로젝트들이 요즘 한번에 삐걱거리기 시작했다.</p>\n<p>얼마전에는 Webtoon API를 전체적으로 수정해야 했는데 이번에는 Covid-19 API가 문제다.</p>\n<p>정부에서 단계적 일상회복을 시행함에 따라 공공데이터 포털의 Covid-19 API의 일부 항목이 제외된것이다.</p>\n<p>오늘은 이것에 대해 글을 써보려 한다.</p>\n<h2>Covid-19 API</h2>\n<p>지금 만들어서 쓰고있는 API는 Covid-19의 여러 외부 정보들을 종합해서 새로운 데이터를 추가하고 이상치를 제거해 GraphQL로 제공하고있다.</p>\n<p>이 데이터를 이용해 Dashboard를 제공하는 토이 프로젝트도 하나 있다.</p>\n<p>이번에 API를 수정하면 당연히 Dashboard도 변경사항이 생길것이고 나는 이것을 최소화 하고싶었다.</p>\n<h3>🚧 변경점과 대응</h3>\n<h4><a href=\"https://www.data.go.kr/iim/api/selectAPIAcountView.do\">보건복지부 코로나19 시·도발생 현황</a>의 격리중 환자 수(ISOL_ING_CNT) 항목 제외</h4>\n<p>다행이 이 항목으로 계산하는 다른 값들이 없어 처음에는 해당 항목은 그냥 제거하려고 했다.</p>\n<p>하지만 다른 항목들의 값들을 보면서 이 값은 다른 항목의 값들로 계산할 수 있을것 같았다.</p>\n<p>전체 확진자 수(DEF_CNT)에서 사망자 수(DEATH_CNT)와 격리 해제 수(ISOL_CLEAR_CNT)를 제외하면 격리중 환자수와 같을거라는 예상을 했고 여러 날짜의 값들을 계산해서 비교해보니 실제로 같았다.</p>\n<p>그래서 이항목은 유지할 수 있었다.</p>\n<h4>단계적 일상회복</h4>\n<p>정부에서 단계적 일상 회복을 시행하면서 당연히 거리두기 단계가 무의미 해졌고 실제로 정부에서 운영하던 사회적 거리두기 단계를 제공하는 사이트도 사라졌다.</p>\n<p>문제는 내가 만든 API에서 사용하는 거리두기 단계는 이 사이트를 매일 크롤링해온 값으로 제공되는데 사이트가 없어졌고 거리두기 단계 자체도 무의미 해졌으니 이 항목은 제외할 수밖에 없었다.</p>\n<h3>📦 기존 데이터 저장</h3>\n<p>혹시 몰라 이전 데이터들은 모두 JSON 형식으로 저장해두었다.</p>\n<p>이전 데이터를 사용하는 프로젝트가 있다면 Github에 저장된 JSON값을 받아와 보이는 뷰 정도만 유지해줄 생각이었다.</p>\n<h2>Dashboard 수정</h2>\n<p>앞서 언급했던 것처럼 API를 수정한 뒤 실제로 제외된 항목은 사회적 거리두기 단계밖에 없으니 관련된 그래프들을 모두 제거해주었다.</p>\n<p>정부에서 정한 거리두기 단계 기준과 실제 감염 상황으로 거리두기 단계 변화를 예상하는 그래프는 지우기 아까웠지만 제공되는 데이터가 모두 사라진 마당에 남겨둘 수 없었다.</p>\n<p>Dashboard는 내가 순수 HTML, CSS, Javascript를 너무 안 쓰다 보니 잊어버릴 것 같아서 React나 Vue.js 같은 프레임워크(라이브러리) 없이 만들었었는데 코드를 너무 더럽게 작성해놔서 수정하는데 애먹었다.</p>","frontmatter":{"title":"Covid-19 API 업데이트","titleImage":"https://user-images.githubusercontent.com/71566740/144737959-6f46ade7-6020-490e-94c9-a6462e6c1c1e.png","date":"2021-11-30","description":"단계적 일상회복에 따른 Covid-19 API 업데이트","tags":["Project"]},"fields":{"slug":"/covid-19-api-update/"},"id":"55aa1525-7329-548e-aed0-321afe5356f4"},"allMarkdownRemark":{"nodes":[{"fields":{"slug":"/components-styling/"},"frontmatter":{"description":"리액트 기반 제품을 개발하면서 고민했던 컴포넌트 스타일링 방법에 대한 고민","title":"리액트 컴포넌트 스타일링 정리"},"id":"269686d6-2fed-5692-8516-65172b3d1780"},{"fields":{"slug":"/employment-memoirs/"},"frontmatter":{"description":"평범한 대학생 개발자의 2022년 상반기 취업과정","title":"대학생 개발자 취업 회고"},"id":"055ba126-a39c-5c44-809e-346a02a0a77f"},{"fields":{"slug":"/blog-remake-review2/"},"frontmatter":{"description":"Next.js에서 Gatsby로 블로그를 이전하고 느낀점","title":"Gatsby 블로그 이전"},"id":"22ea3c6e-ee50-5be3-9bbb-41a417e827a3"},{"fields":{"slug":"/covid-19-api-update/"},"frontmatter":{"description":"단계적 일상회복에 따른 Covid-19 API 업데이트","title":"Covid-19 API 업데이트"},"id":"55aa1525-7329-548e-aed0-321afe5356f4"},{"fields":{"slug":"/korea-webtoon-api-update/"},"frontmatter":{"description":"Daum 웹툰의 개편으로 인한 API 업데이트","title":"Webtoon API 업데이트"},"id":"a21d2ce7-380a-51aa-a12b-82493d52ed65"},{"fields":{"slug":"/nest-js/"},"frontmatter":{"description":"Typescript를 이용한 NestJS 코드 작성","title":"NestJS 웹서버 구축하기"},"id":"e0917e2d-f9da-5e98-80c6-683285770a39"},{"fields":{"slug":"/knu-lms-scheduler/"},"frontmatter":{"description":"공주대학교 비대면 강의 시스템 편의성 개선 프로젝트","title":"KNU LMS Scheduler 프로젝트"},"id":"02f53968-0d2e-52f9-86d7-821a0b02bb84"},{"fields":{"slug":"/gititle-project/"},"frontmatter":{"description":"좋은 커밋 메시지를 작성하기 위한 프로젝트","title":"Gititle 프로젝트"},"id":"b735da78-589b-5db1-aabe-d37b462d14c4"},{"fields":{"slug":"/sass-compiler/"},"frontmatter":{"description":"편리한 Sass 사용을 위한 익스텐션","title":"Live Sass Compiler 사용하기"},"id":"26bcefd2-68b7-57b9-a09c-a1821036c97a"},{"fields":{"slug":"/nodejs-crawling/"},"frontmatter":{"description":"Node.js 크롤링을 통한 데이터 수집","title":"크롤링을 통한 데이터 수집하기"},"id":"55c0d50a-b858-5b39-84e9-cdbce6c96d2d"},{"fields":{"slug":"/copilot-review/"},"frontmatter":{"description":"Github의 코딩 AI, Copilot 한 달 사용 리뷰","title":"Copilot 사용 후기"},"id":"0a34d6a1-3a25-5f66-bf8e-b8acc1732d0c"},{"fields":{"slug":"/typescript-express/"},"frontmatter":{"description":"Typescript를 이용한 Express 코드 작성","title":"Typescript + Express 웹서버 구축하기"},"id":"7d8d7f08-3bb7-55da-bce3-d3f039c53410"},{"fields":{"slug":"/blog-remake-review1/"},"frontmatter":{"description":"Next.js에서 Gatsby로 블로그를 이전하면서 느낀점","title":"Gatsby 블로그 이전 중간 리뷰"},"id":"a4c7e066-97b3-5e56-b34a-caccc301816d"},{"fields":{"slug":"/good-commit-message/"},"frontmatter":{"description":"Git Commit Message 작성을 위한 나와의 약속","title":"Git Commit Message Convention"},"id":"391e810d-0a42-537f-8214-11c776f8dedc"}]}},"pageContext":{"slug":"/covid-19-api-update/"}},"staticQueryHashes":[]}